(this.webpackJsonpse_project=this.webpackJsonpse_project||[]).push([[0],{137:function(e,t,a){},204:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(15),s=a.n(n),r=a(0),o=a.n(r),c=a(32),i=a(50),l=a(159),u=a(8),d="SET_CHANGE",j="SET_ALERTM",b="SET_LOGIN_STATE",p="SET_ALERTS",h=a(35),O=a.n(h),m={change:!1,alertM:"undefined",alertS:!1,logged_in:!1},g="SET_STATE",f="SET_FIRSTNAME",x="SET_LASTNAME",v="SET_USERNAME",w="SET_EMAIL",S="SET_PASSWORD",y="SET_AVATAR",N={firstname:"undefined",lastname:"undefined",username:"undefined",email:"undefined",password:"undefined",avatar:"undefined"},C=Object(i.c)({login_signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case d:return Object(u.a)(Object(u.a)({},e),{},{change:n.change});case j:return Object(u.a)(Object(u.a)({},e),{},{alertM:n.alertM});case p:return Object(u.a)(Object(u.a)({},e),{},{alertS:n.alertS});case b:return Object(u.a)(Object(u.a)({},e),{},{logged_in:n.success});default:return e}},UserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case f:return Object(u.a)(Object(u.a)({},e),{},{firstname:n.firstname});case g:return Object(u.a)(Object(u.a)({},e),{},{firstname:n.firstname,lastname:n.lastname,avatar:n.avatar,username:n.username,email:n.email});case x:return Object(u.a)(Object(u.a)({},e),{},{lastname:n.lastname});case v:return Object(u.a)(Object(u.a)({},e),{},{username:n.username});case w:return Object(u.a)(Object(u.a)({},e),{},{email:n.email});case S:return Object(u.a)(Object(u.a)({},e),{},{password:n.password});case y:return Object(u.a)(Object(u.a)({},e),{},{avatar:n.avatar});default:return e}}}),k=[Object(l.a)()],T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=T(i.a.apply(void 0,k))(i.e),a=t(C,e);return a}(),E=a(63),_=a(18),P=(a(204),a(205),a(262)),I=(a(70),a(41)),F=a.n(I),B=a(58),L=a(29),R=a(14),M=function(){return{mode:"cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token"),mode:"cors"}}},z=a(256),U=a(261),D=a(259),G=a(260),J=a(258),V=a(281),H=a(266),K=a(265),W=a(47),$=a.n(W),q=a(277),Z=a(144),X=a(4),Y=a(253),Q=a(264),ee=a(104),te=a(263),ae=a(147),ne=a.n(ae),se=a(146),re=a.n(se);function oe(e){return{type:j,payload:{alertM:e}}}function ce(e){return{type:p,payload:{alertS:e}}}var ie=a(2),le=Object(Y.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},fabProgress:{color:ee.a[500],position:"absolute",top:-2,left:-2,zIndex:1},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},alert:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),ue=Object(c.b)((function(e){return{alertS:e.login_signup.alertS,alertM:e.login_signup.alertM}}),(function(e){return{setAlertS:function(t){return e(ce(t))},setAlertM:function(t){return e(oe(t))}}}))((function(e){var t=e.setAlertS,a=e.setAlertM,n=e.alertM,s=e.alertS,c=Object(r.useState)(""),i=Object(R.a)(c,2),l=i[0],d=i[1],j=Object(r.useState)({password:"",confirmPassword:""}),b=Object(R.a)(j,2),p=b[0],h=b[1],m=Object(r.useState)(""),g=Object(R.a)(m,2),f=g[0],x=g[1],v=Object(r.useState)(""),w=Object(R.a)(v,2),S=w[0],y=w[1],N=Object(_.g)(),C=le(),k=o.a.useState(!1),T=Object(R.a)(k,2),A=T[0],E=T[1],I=o.a.useState(!1),F=Object(R.a)(I,2),B=F[0],W=F[1],Y=o.a.useRef(),ee=function(e){a(e),t(!0)},ae=Object(X.a)(Object(L.a)({},C.buttonSuccess,B));o.a.useEffect((function(){return function(){clearTimeout(Y.current)}}),[]);function se(e){d(e);var t="";0===e.length&&(t="Enter your username."),x(t)}function oe(e){h(Object(u.a)(Object(u.a)({},p),{},{password:e}));var t="";0===e.length&&(t="Enter your password."),y(t)}var ce=o.a.useState(!1),ue=Object(R.a)(ce,2),de=ue[0],je=ue[1],be=Object(r.useState)(""),pe=Object(R.a)(be,2),he=pe[0],Oe=pe[1],me=Object(r.useState)(""),ge=Object(R.a)(me,2),fe=ge[0],xe=ge[1],ve=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function we(e){Oe(e);var t="";ve.test(String(e).toLowerCase())||(t="Invalid email address!"),xe(t)}return Object(ie.jsx)("div",{className:"row justify-content-center",children:Object(ie.jsxs)(q.a,{className:"centered",onSubmit:function(e){e.preventDefault()},children:[Object(ie.jsxs)(q.a.Group,{controlId:"username",children:[Object(ie.jsx)(q.a.Control,{className:"loginforms",type:"text",placeholder:" Username",onChange:function(e){d(e.target.value)},onBlur:function(e){return se(e.target.value)},isInvalid:Boolean(f)}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:f})]}),Object(ie.jsxs)(Z.a,{children:[Object(ie.jsx)(q.a.Control,{className:"loginforms",type:"password",placeholder:" Password",isInvalid:Boolean(S),onChange:function(e){h(Object(u.a)(Object(u.a)({},p),{},{password:e.target.value}))},onBlur:function(e){return oe(e.target.value)}}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:S})]}),Object(ie.jsx)("button",{onClick:function(e){e.preventDefault();var t={username:l,password:p.password},a=JSON.stringify(t);O.a.post("https://sharpsback.herokuapp.com/user/login",a,M()).then((function(e){console.log("logged In"),console.log(e),localStorage.setItem("token",e.data.token),N.push("/explore")})).catch((function(e){console.log(e.response),console.log("not logged In"),console.log(e.response.status),console.log(e.response.data.error),e.response.status<500&&e.response.status>399&&ee(e.response.data.error)}))},className:"loginB",children:"Login"}),Object(ie.jsx)("p",{onClick:function(){je(!0)},className:"forgotpassword",children:"Forgot password?"}),Object(ie.jsxs)(z.a,{open:de,"aria-labelledby":"form-dialog-title",children:[Object(ie.jsx)(J.a,{id:"form-dialog-title",children:"Forgot your password?"}),Object(ie.jsxs)(D.a,{children:[Object(ie.jsx)(G.a,{children:"To set a new password, please enter your email address here. If the email you specified exists in our system and is verified, we will send a password reset link to it."}),Object(ie.jsx)(q.a.Control,{type:"email",placeholder:"Email",onChange:function(e){we(e.target.value)},onBlur:function(e){return we(e.target.value)},isInvalid:Boolean(fe)}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:fe})]}),Object(ie.jsxs)(U.a,{children:[Object(ie.jsx)(P.a,{onClick:function(){je(!1),N.push("/login_signup")},color:"primary",children:"Cancel"}),Object(ie.jsx)("div",{className:C.root,children:Object(ie.jsx)("div",{className:C.wrapper,children:Object(ie.jsxs)(te.a,{"aria-label":"save",color:"primary",className:ae,onClick:function(){if(""==he)we(he);else if(!fe){A||(W(!1),E(!0),Y.current=window.setTimeout((function(){W(!0),E(!1),je(!1)}),2e3));var e={email:he},t=JSON.stringify(e);O.a.post("https://sharpsback.herokuapp.com/user/resetpassword",t,M()).then((function(e){console.log("email sent"),console.log(e),N.push("/login_signup"),localStorage.setItem("token",e.data.token)})).catch((function(e){console.log(e.response),console.log("email not sent"),e.response.status<500&&e.response.status>399&&ee(e.response.data.error)}))}},children:[B?Object(ie.jsx)(re.a,{}):Object(ie.jsx)(ne.a,{}),A&&Object(ie.jsx)(Q.a,{size:60,className:C.fabProgress})]})})})]})]}),Object(ie.jsx)("div",{className:C.alert,children:Object(ie.jsx)(K.a,{in:s,children:Object(ie.jsx)(V.a,{severity:"error",action:Object(ie.jsx)(H.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(e){t(!1)},children:Object(ie.jsx)($.a,{fontSize:"inherit"})}),children:n})})})]})})})),de=a(267),je=a(145),be=Object(Y.a)((function(e){return{alert:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var pe=Object(c.b)((function(e){return{alertS:e.login_signup.alertS,alertM:e.login_signup.alertM}}),(function(e){return{setAlertS:function(t){return e(ce(t))},setAlertM:function(t){return e(oe(t))}}}))((function(e){var t=e.setAlertS,a=e.setAlertM,n=e.alertM,s=e.alertS,o=Object(r.useState)({}),c=Object(R.a)(o,2),i=(c[0],c[1],Object(r.useState)("")),l=Object(R.a)(i,2),d=l[0],j=l[1],b=Object(r.useState)(""),p=Object(R.a)(b,2),h=p[0],m=p[1],g=Object(r.useState)(""),f=Object(R.a)(g,2),x=f[0],v=f[1],w=Object(r.useState)(""),S=Object(R.a)(w,2),y=S[0],N=S[1],C=Object(r.useState)({password:"",confirmPassword:""}),k=Object(R.a)(C,2),T=k[0],A=k[1],E=Object(r.useState)(""),P=Object(R.a)(E,2),I=P[0],F=P[1],B=Object(r.useState)(""),L=Object(R.a)(B,2),z=L[0],U=L[1],D=Object(r.useState)(""),G=Object(R.a)(D,2),J=G[0],W=G[1],Z=Object(r.useState)(""),X=Object(R.a)(Z,2),Y=X[0],Q=X[1],ee=Object(r.useState)(""),te=Object(R.a)(ee,2),ae=te[0],ne=te[1],se=Object(r.useState)(""),re=Object(R.a)(se,2),oe=re[0],ce=re[1],le=be(),ue=Object(_.g)();function pe(e){m(e);var t="";0===e.length&&(t=" Last name is required."),F(t)}function he(e){v(e);var t="";0===e.length&&(t=" First name is required."),U(t)}function Oe(e){N(e);var t="";0===e.length&&(t=" This username is already taken!"),W(t)}var me=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function ge(e){j(e);var t="";me.test(String(e).toLowerCase())||(t="Invalid email address!"),Q(t)}var fe=/^((?=.*[0-9]{1,})|(?=.*[!.@#$&*-_]{1,}))(?=.*[a-z]{1,}).{8,}$/;function xe(e){A(Object(u.a)(Object(u.a)({},T),{},{password:e}));var t="";e.length<8?t="Password must be 8 characters long.":fe.test(String(e).toLowerCase())||(t="Invalid password!"),ne(t)}function ve(e){A(Object(u.a)(Object(u.a)({},T),{},{confirmPassword:e}));var t="";T.password!==e&&(t="It doesn't match the password!"),ce(t)}return Object(ie.jsx)("div",{className:"row justify-content-center signupPaper",children:Object(ie.jsxs)(q.a,{className:"signUpForm centered",onSubmit:function(e){e.preventDefault()},children:[Object(ie.jsxs)(de.a,{children:[Object(ie.jsxs)(q.a.Group,{as:je.a,controlId:"formGridFirstname",children:[Object(ie.jsx)(q.a.Control,{className:"signupforms",type:"text",placeholder:"First Name",onKeyPress:function(e){"Enter"===e.key&&he(e.target.value)},onBlur:function(e){return he(e.target.value)},isInvalid:Boolean(z)}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:z})]}),Object(ie.jsxs)(q.a.Group,{as:je.a,controlId:"formGridLastname",children:[Object(ie.jsx)(q.a.Control,{className:"signupforms",type:"text",placeholder:"Last Name",onKeyPress:function(e){"Enter"===e.key&&pe(e.target.value)},onBlur:function(e){return pe(e.target.value)},isInvalid:Boolean(I)}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:I})]})]}),Object(ie.jsxs)(q.a.Group,{controlId:"username",children:[Object(ie.jsx)(q.a.Control,{className:"signupforms",type:"text",placeholder:"Username",onKeyPress:function(e){"Enter"===e.key&&Oe(e.target.value)},onBlur:function(e){return Oe(e.target.value)},isInvalid:Boolean(J)}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:J})]}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)(q.a.Control,{className:"signupforms",type:"email",placeholder:"Email",onKeyPress:function(e){"Enter"===e.key&&ge(e.target.value)},onBlur:function(e){return ge(e.target.value)},isInvalid:Boolean(Y)}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:Y})]}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)(q.a.Control,{className:"signupforms",type:"password",placeholder:"Password",isInvalid:Boolean(ae),onKeyPress:function(e){"Enter"===e.key&&xe(e.target.value)},onBlur:function(e){return xe(e.target.value)}}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:ae})]}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)(q.a.Control,{className:"signupforms",type:"password",placeholder:"Confirm Password",isInvalid:Boolean(oe),onKeyPress:function(e){"Enter"===e.key&&ve(e.target.value)},onBlur:function(e){return ve(e.target.value)}}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:oe})]}),Object(ie.jsx)("button",{className:"signupB",onClick:function(e){e.preventDefault();var n={firstname:x,lastname:h,username:y,email:d,password:T.password,avatar:null},s=JSON.stringify(n);console.log(s),O.a.post("https://sharpsback.herokuapp.com/user/signup",s,M()).then((function(e){console.log("signed up"),console.log(e),localStorage.setItem("token",e.data.token),ue.push("/explore")})).catch((function(e){console.log(e.response),console.log("not signed up"),e.response.status<500&&e.response.status>399&&function(e){a(e),t(!0)}(e.response.data.error)}))},children:"Sign Up"}),Object(ie.jsx)("div",{style:{marginTop:"15px"},className:le.alert,children:Object(ie.jsx)(K.a,{in:s,children:Object(ie.jsx)(V.a,{severity:"error",action:Object(ie.jsx)(H.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(e){t(!1)},children:Object(ie.jsx)($.a,{fontSize:"inherit"})}),children:n})})})]})})})),he=Object(c.b)((function(e){return{change:e.login_signup.change,alertS:e.login_signup.alertS}}),(function(e){return{setChange:function(t){return e({type:d,payload:{change:t}})},setAlertS:function(t){return e(ce(t))}}}))((function(e){var t=e.change,a=e.setChange,n=e.setAlertS;return Object(ie.jsxs)("div",{className:"mainDiv",children:[Object(ie.jsx)("div",{className:"loginform",id:"loginform",children:Object(ie.jsx)("div",{className:"loginpage",children:Object(ie.jsx)(ue,{})})}),Object(ie.jsx)("div",{className:"signupform",id:"signupform",children:Object(ie.jsx)("div",{className:"signuppage",children:Object(ie.jsx)(pe,{})})}),Object(ie.jsxs)("div",{className:"photo_login",id:"signupphoto",children:[Object(ie.jsx)("h1",{className:"text_header",children:" Sharp "}),Object(ie.jsx)(P.a,{onClick:function(e){var s=document.getElementById("signupphoto");t?(s.classList.add("unchange"),s.classList.remove("change"),a(!1),n(!1)):(s.classList.add("change"),s.classList.remove("unchange"),a(!0),n(!1)),document.getElementById("signupform").classList.toggle("signupshow"),document.getElementById("loginform").classList.toggle("loginhide")},id:"mybutton",size:"large",className:"buttonMain",variant:"outlined",children:"Start"})]})]})})),Oe=a(93),me=a(94),ge=a(102),fe=a(100),xe=a(77),ve=a(283),we=a(284),Se=a(268),ye=a(278),Ne=a(119),Ce=a.n(Ne),ke=a(120),Te=a.n(ke);function Ae(e){return{type:f,payload:{firstname:e}}}function Ee(e){return{type:g,payload:{firstname:e.firstname,lastname:e.lastname,avatar:e.avatar,username:e.username,email:e.email}}}a(136);var _e=a(279),Pe=(a(137),a(276)),Ie=a(152),Fe=a.n(Ie);var Be=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).uploadImage=function(){var e=Object(B.a)(F.a.mark((function e(t){var a,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,n.convertBase64(a);case 3:s=e.sent,n.props.SET_AVATAR(btoa(s));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.convertBase64=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){a(e)}}))},n.handleCancel=function(){return n.setState({previewVisible:!1})},n.state={loading:!1},n}return Object(me.a)(a,[{key:"render",value:function(){var e=this,t="avatar";return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"imageHolder",children:Object(ie.jsx)(Pe.a,{width:150,height:150,src:null!=this.props.avatar?atob(this.props.avatar):"https://i.stack.imgur.com/l60Hf.png"})}),Object(ie.jsxs)("div",{className:"camera_button",children:[Object(ie.jsx)("input",{accept:"image/*",style:{display:"none"},id:t,name:t,type:"file",onChange:function(t){try{e.uploadImage(t)}catch(a){console.log(a)}}}),Object(ie.jsx)("label",{htmlFor:t,children:Object(ie.jsx)(P.a,{variant:"contained",color:"secondary",startIcon:Object(ie.jsx)(Fe.a,{}),children:"Add photo"})})]})]})}}]),a}(o.a.Component),Le=(Object(c.b)((function(e){return Object(u.a)(Object(u.a)({},e),{},{avatar:e.UserReducer.avatar})}),(function(e){return{SET_AVATAR:function(t){return e({type:y,payload:{avatar:t}})}}}))(Be),Object(Y.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})));function Re(e){var t=Le(),a=o.a.useState(!1),n=Object(R.a)(a,2),s=n[0],r=n[1];return Object(ie.jsx)("div",{className:t.root,children:Object(ie.jsx)(K.a,{in:s||e.show,children:Object(ie.jsx)(V.a,{severity:"success",action:Object(ie.jsx)(H.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){r(!1)},children:Object(ie.jsx)($.a,{fontSize:"inherit"})}),children:e.text})})})}var Me=Object(Y.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function ze(e){var t=Me(),a=o.a.useState(!1),n=Object(R.a)(a,2),s=n[0],r=n[1];return Object(ie.jsx)("div",{className:t.root,children:Object(ie.jsx)(K.a,{in:s||e.show,children:Object(ie.jsx)(V.a,{severity:"error",action:Object(ie.jsx)(H.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){r(!1)},children:Object(ie.jsx)($.a,{fontSize:"inherit"})}),children:e.text})})})}var Ue=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={visible:!1,showSuccessAlert:!1,SuccesAlertText:"Profile has been changed succes fully ",showFailureAlert:!1,FailAlertText:"",loading:!1,last_state:null,values:{amount:"",password:"",confirmPassword:"",weight:"",weightRange:"",showPassword:!1,showConfirmPassword:!1}},n}return Object(me.a)(a,[{key:"componentDidMount",value:function(){O.a.get("https://sharpsback.herokuapp.com/user/",M()).then((function(e){console.log("shiiit"),A.dispatch(Ee(e.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=Object(Y.a)((function(e){return{paper:Object(L.a)({width:"100%"},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(8),marginBottom:e.spacing(6),padding:e.spacing(0)}),closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var a=_e.a.Panel,n=function(t){return function(a){e.setState({values:Object(u.a)(Object(u.a)({},e.state.values),{},Object(L.a)({},t,a.target.value))})}},s=function(e){e.preventDefault()},r=function(){e.setState({visible:!1})};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(P.a,{style:{paddingLeft:"0px"},type:"primary",onClick:function(){return e.setState({visible:!0})},children:"Edit Profile"}),Object(ie.jsxs)(z.a,{transitionDuration:900,open:this.state.visible,onOk:function(){return e.setState({visible:!0})},onCancel:function(){return e.setState({visible:!0})},width:1e3,onClose:r,children:[Object(ie.jsxs)(J.a,{disableTypography:!0,children:[Object(ie.jsx)(xe.a,{variant:"h6",children:"Edit Profile"}),Object(ie.jsx)(xe.a,{}),Object(ie.jsx)(P.a,{variant:"contained",color:"primary",className:t.closeButton,onClick:r,children:Object(ie.jsx)($.a,{className:"closeIcon"})})]}),Object(ie.jsxs)(D.a,{children:[Object(ie.jsx)(Re,{show:this.state.showSuccessAlert,text:this.state.SuccesAlertText}),Object(ie.jsx)(ze,{show:this.state.showFailureAlert,text:this.state.FailAlertText}),Object(ie.jsxs)(_e.a,{"data-testid":"Collapse",onChange:function(e){console.log(e)},children:[Object(ie.jsxs)(a,{header:this.state.last_state?this.state.last_state.firstname:"Name :",children:[Object(ie.jsx)(ye.a,{className:"TextField",onChange:function(t){e.props.SET_FIRSTNAME(t.target.value)},value:this.props.firstname,label:"FirstName",variant:"outlined",role:"FirstnameTextField"}),Object(ie.jsx)(ye.a,{className:"TextField",onChange:function(t){e.props.SET_LASTNAME(t.target.value)},value:this.props.lastname,id:"outlined-basic",label:"LastName",variant:"outlined",role:"LastnameTextField"})]},"1"),Object(ie.jsx)(a,{header:"Username :",children:Object(ie.jsx)(ye.a,{disabled:!0,className:"TextField",id:"outlined-basic",value:this.props.username,onChange:function(t){e.props.SET_USERNAME(t.target.value)},label:"Username",variant:"outlined",role:"UsernameTextField"})},"2"),Object(ie.jsxs)(a,{header:"Email : ",children:[Object(ie.jsx)(ye.a,{disabled:!0,className:"TextField",value:this.props.email,onChange:function(t){e.props.SET_EMAIL(t.target.value)},id:"outlined-basic",label:"Email",variant:"outlined",role:"EmailTextField"}),Object(ie.jsx)("ul",{style:{width:"50%"},children:Object(ie.jsx)("li",{children:Object(ie.jsx)(xe.a,{variant:"subtitle1",style:{marginTop:"5px"},children:"Your email would be used to communicate with you ."})})})]},"3"),Object(ie.jsxs)(a,{header:"Password : ",children:[Object(ie.jsxs)(Se.a,{className:Object(X.a)(t.margin,t.textField),variant:"outlined",children:[Object(ie.jsx)(we.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(ie.jsx)(ve.a,{id:"outlined-adornment-password",type:this.state.values.showPassword?"text":"password",value:this.state.values.password,onChange:n("password"),endAdornment:Object(ie.jsx)(H.a,{"aria-label":"toggle password visibility",onClick:function(){e.setState({values:Object(u.a)(Object(u.a)({},e.state.values),{},{showPassword:!e.state.values.showPassword})})},onMouseDown:s,edge:"end",children:this.state.values.showPassword?Object(ie.jsx)(Ce.a,{}):Object(ie.jsx)(Te.a,{})}),labelWidth:70})]}),Object(ie.jsxs)(Se.a,{className:Object(X.a)(t.margin,t.textField),style:{marginleft:"5px"},variant:"outlined",children:[Object(ie.jsx)(we.a,{htmlFor:"outlined-adornment-password",children:"Confirm"}),Object(ie.jsx)(ve.a,{className:"TextField",id:"outlined-adornment-password",type:this.state.values.showConfirmPassword?"text":"password",value:this.state.values.confirmPassword,onChange:n("confirmPassword"),endAdornment:Object(ie.jsx)(H.a,{color:"#023047","aria-label":"toggle password visibility",onClick:function(){e.setState({values:Object(u.a)(Object(u.a)({},e.state.values),{},{showConfirmPassword:!e.state.values.showConfirmPassword})})},onMouseDown:s,edge:"end",children:this.state.values.showConfirmPassword?Object(ie.jsx)(Ce.a,{}):Object(ie.jsx)(Te.a,{})}),labelWidth:70})]})]},"4"),Object(ie.jsx)(a,{header:"deactivate",children:Object(ie.jsx)(P.a,{size:"Medium",className:"Button",variant:"contained",color:"secondary",children:"Delete Account"})},"5")]})]}),Object(ie.jsx)(U.a,{children:Object(ie.jsx)("div",{className:"wrapper",children:Object(ie.jsxs)(P.a,{disabled:this.state.loading,size:"large",className:"Button",variant:"contained",color:"primary",onClick:function(){e.state.values.password==e.state.values.confirmPassword?(e.setState({showFailureAlert:!1,loading:!0}),e.props.SET_PASSWORD(e.state.values.password)):e.setState({showFailureAlert:!0,FailAlertText:"Passwords dont match "}),0==e.state.showFailureAlert&&function(e,t,a){var n=JSON.stringify(e);O.a.put("https://sharpsback.herokuapp.com/user/",n,M()).then((function(e){console.log("updated"),t()})).catch((function(e){console.log(e),a(e.message)}))}(A.getState().UserReducer,(function(){e.setState({showSuccessAlert:!0,loading:!1})}),(function(t){e.setState({FailAlertText:t,showFailureAlert:!0})}))},children:["Save",this.state.loading&&Object(ie.jsx)(Q.a,{style:{color:"green"},size:24,className:"buttonProgress"})]})})})]})]})}}]),a}(o.a.Component),De=Object(c.b)((function(e){return Object(u.a)(Object(u.a)({},e),{},{firstname:e.UserReducer.firstname,lastname:e.UserReducer.lastname,username:e.UserReducer.username,email:e.UserReducer.email,password:e.UserReducer.password,avatar:e.UserReducer.avatar})}),(function(e){return{SET_STATE:function(t){return e(Ee(t))},SET_FIRSTNAME:function(t){return e(Ae(t))},SET_LASTNAME:function(t){return e({type:x,payload:{lastname:t}})},SET_USERNAME:function(t){return e({type:v,payload:{username:t}})},SET_EMAIL:function(t){return e({type:w,payload:{email:t}})},SET_PASSWORD:function(t){return e({type:S,payload:{password:t}})},SET_AVATAR:function(t){return e(Ae(t))}}}))(Ue),Ge=a(33),Je=a(121),Ve=a.n(Je),He=Object(Ge.a)();He.location=Object(u.a)(Object(u.a)({},He.location),{},{query:Ve.a.parse(He.location.search.substr(1)),state:{modal:!1,scroll:!1}}),He.listen((function(){He.location=Object(u.a)(Object(u.a)({},He.location),{},{query:Ve.a.parse(He.location.search.substr(1)),state:He.location.state||{}})}));var Ke=He,We=a(28),$e=a(31),qe=a(285),Ze=a(270),Xe=a(282),Ye=a(156),Qe=a.n(Ye),et=a(271),tt=a(272),at=a(269),nt=a(273),st=a(274),rt=a(275),ot=a(154),ct=a.n(ot),it=a(155),lt=a.n(it),ut=a(157),dt=a.n(ut),jt=a(158),bt=a.n(jt),pt=(a(213),Object(Y.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},search:Object(L.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(We.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(We.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(L.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})));var ht=Object(_.h)((function(){var e=pt(),t=(Object($e.a)(),Object(r.useState)(!1)),a=Object(R.a)(t,2),n=a[0],s=(a[1],Object(r.useState)({items:[],total:""})),o=Object(R.a)(s,2),c=o[0],i=o[1];Object(r.useEffect)(Object(B.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l();case 1:case"end":return e.stop()}}),e)}))));var l=function(){fetch("https://sharpsback.herokuapp.com/user/suggestions",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if(console.log(e),200===e.status)return e.json();401===e.status&&window.location.replace("/login")})).then((function(e){i((function(t){return Object(u.a)(Object(u.a)({},t),{},{items:e.items,total:e.total})})),console.log("data")}))};return Object(ie.jsx)("div",{children:Object(ie.jsxs)("div",{className:e.root,children:[Object(ie.jsx)(Ze.a,{}),Object(ie.jsx)(et.a,{style:{background:"#0f0b3e"},position:"fixed",className:e.appBar,children:Object(ie.jsxs)(tt.a,{children:[Object(ie.jsx)(xe.a,{variant:"h6",noWrap:!0,children:"\ud835\udcfc\ud835\udcf1\ud835\udcea\ud835\udcfb\ud835\udcf9"}),Object(ie.jsx)("div",{className:"ex",children:Object(ie.jsxs)("div",{className:e.search,children:[Object(ie.jsx)("div",{className:e.searchIcon,children:Object(ie.jsx)(ct.a,{})}),Object(ie.jsx)(Xe.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]})})]})}),Object(ie.jsx)(qe.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:Object(ie.jsx)("div",{className:e.drawerContainer,children:Object(ie.jsxs)(at.a,{children:[Object(ie.jsxs)(nt.a,{button:!0,style:{paddingTop:"30%"},children:[Object(ie.jsx)(st.a,{children:Object(ie.jsx)(lt.a,{children:" "})}),Object(ie.jsx)(rt.a,{primary:"Home"})]},"Homme"),Object(ie.jsx)("li",{children:Object(ie.jsxs)(nt.a,{button:!0,children:[Object(ie.jsx)(st.a,{children:Object(ie.jsx)(Qe.a,{})}),Object(ie.jsx)(De,{})]},"Profile")}),Object(ie.jsxs)(nt.a,{button:!0,children:[Object(ie.jsx)(st.a,{children:Object(ie.jsx)(dt.a,{})}),Object(ie.jsx)(rt.a,{primary:"Saved"})]},"Saved"),Object(ie.jsxs)(nt.a,{button:!0,children:[Object(ie.jsx)(st.a,{children:Object(ie.jsx)(bt.a,{})}),Object(ie.jsx)(rt.a,{primary:"Logout"})]},"Logout")]})})}),Object(ie.jsxs)("main",{className:Object(X.a)(e.content,Object(L.a)({},e.contentShift,n)),children:[Object(ie.jsx)("div",{className:e.drawerHeader}),Object(ie.jsx)("div",{className:"explore",children:0===c.length?Object(ie.jsx)("div",{}):c.items.map((function(e){if(e)return Object(ie.jsx)("div",{style:{spacing:"50%"},children:Object(ie.jsx)("div",{class:"card mb-3 ",children:Object(ie.jsxs)("div",{class:"row no-gutters",children:[Object(ie.jsx)("div",{class:"col-md-4",children:Object(ie.jsx)("img",{variant:"top",src:null!=e.image?e.image:"https://om.rosheta.com/upload/61e6aa724ce98c29726e423dd146e4bc9435f9ea5eca681a349a2e2ab0a23494.png",rounded:!0,class:"card-img",alt:"..."})}),Object(ie.jsx)("div",{class:"col-md-8",children:Object(ie.jsxs)("div",{class:"card-body",children:[Object(ie.jsx)("h5",{class:"card-title",children:e.title}),Object(ie.jsxs)("p",{class:"card-text",children:[" ",e.des," "]}),Object(ie.jsx)("a",{href:"//"+e.url,class:"stretched-link"})]})})]})})})}))})]})]})})})),Ot=function(e){var t=Object(Y.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),a=Object(r.useState)(""),n=Object(R.a)(a,2),s=n[0],c=n[1],i=Object(r.useState)({password:"",confirmPassword:""}),l=Object(R.a)(i,2),d=l[0],j=l[1],b=Object(r.useState)(""),p=Object(R.a)(b,2),h=p[0],m=p[1],g=Object(_.g)(),f=t(),x=o.a.useState(!1),v=Object(R.a)(x,2),w=v[0],S=v[1],y=o.a.useState(!1),N=Object(R.a)(y,2),C=N[0],k=N[1],T=o.a.useRef(),A=Object(X.a)(Object(L.a)({},f.buttonSuccess,C));o.a.useEffect((function(){return function(){clearTimeout(T.current)}}),[]);var E=/^((?=.*[0-9]{1,})|(?=.*[!.@#$&*-_]{1,}))(?=.*[a-z]{1,}).{8,}$/;function I(e){j(Object(u.a)(Object(u.a)({},d),{},{password:e}));var t="";e.length<8?t="Password must be 8 characters long.":E.test(String(e).toLowerCase())||(t="Invalid password!"),c(t)}function F(e){j(Object(u.a)(Object(u.a)({},d),{},{confirmPassword:e}));var t="";d.password!==e&&(t="It doesn't match the password!"),m(t)}return Object(ie.jsx)("div",{children:Object(ie.jsxs)(q.a,{className:"centered",onSubmit:function(e){e.preventDefault()},children:[Object(ie.jsx)(q.a.Control,{className:"signupforms",type:"password",placeholder:"Password",isInvalid:Boolean(s),onChange:function(e){I(e.target.value)},onBlur:function(e){return I(e.target.value)}}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:s}),Object(ie.jsx)(q.a.Control,{className:"signupforms",type:"password",placeholder:"Confirm Password",isInvalid:Boolean(h),onChange:function(e){F(e.target.value)},onBlur:function(e){return F(e.target.value)}}),Object(ie.jsx)(q.a.Control.Feedback,{type:"invalid",children:h}),Object(ie.jsxs)("div",{className:f.wrapper,children:[Object(ie.jsx)(P.a,{variant:"contained",color:"primary",className:A,disabled:w,onClick:function(e){if(""==d.password||""==d.confirmPassword||""!=s)I(d.password),F(d.confirmPassword);else if(!s){w||(k(!1),S(!0),T.current=window.setTimeout((function(){k(!0),S(!1)}),2e3));var t=window.location.href.split("?t=").reverse()[0],a={password:d.password,confirmPassword:d.confirmPassword,token:t},n=JSON.stringify(a);console.log(n),O.a.put("https://sharpsback.herokuapp.com/user/password",n,M()).then((function(e){console.log("pass set"),console.log(e),g.push("/login_signup"),localStorage.setItem("token",e.data.token)})).catch((function(e){console.log(t),console.log(e.response),console.log("pass not set")}))}},children:"Set Password"}),w&&Object(ie.jsx)(Q.a,{size:24,className:f.buttonProgress})]})]})})},mt=function(e){var t=Object(Y.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),a=Object(_.g)(),n=t(),s=o.a.useState(!1),r=Object(R.a)(s,2),c=r[0],i=r[1],l=o.a.useState(!1),u=Object(R.a)(l,2),d=u[0],j=u[1],b=o.a.useRef(),p=Object(X.a)(Object(L.a)({},n.buttonSuccess,d));o.a.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);return Object(ie.jsx)("div",{children:Object(ie.jsxs)(q.a,{className:"centered",onSubmit:function(e){e.preventDefault()},children:[" ",Object(ie.jsx)("h2",{children:"Account Verified!"}),Object(ie.jsxs)("div",{className:n.wrapper,children:[Object(ie.jsx)(P.a,{variant:"contained",color:"primary",className:p,disabled:c,onClick:function(e){c||(j(!1),i(!0),b.current=window.setTimeout((function(){j(!0),i(!1),a.push("/login_signup")}),2e3))},children:"Ok"}),c&&Object(ie.jsx)(Q.a,{size:24,className:n.buttonProgress})]})]})})},gt=(a(161),Object(c.b)((function(e){return{logged_in:e.login_signup.logged_in}}))((function(e){e.logged_in;return Object(ie.jsx)("div",{className:"App",children:Object(ie.jsx)(E.a,{history:Ke,children:Object(ie.jsxs)(_.d,{children:[Object(ie.jsx)(_.b,{path:"/login_signup",exact:!0,component:he}),Object(ie.jsx)(_.b,{path:"/",exact:!0,component:he}),Object(ie.jsx)(_.b,{path:"/login",exact:!0,component:he}),Object(ie.jsx)(_.b,{path:"/edit_profile",exact:!0,component:De}),Object(ie.jsx)(_.b,{path:"/explore",exact:!0,component:ht}),Object(ie.jsx)(_.b,{path:"/reset/*",exact:!0,component:Ot}),Object(ie.jsx)(_.b,{path:"/verify_email",exact:!0,component:mt})]})})})})));s.a.render(Object(ie.jsx)(E.a,{children:Object(ie.jsx)(o.a.StrictMode,{children:Object(ie.jsx)(c.a,{store:A,children:Object(ie.jsx)(gt,{})})})}),document.getElementById("app"))},70:function(e,t,a){}},[[214,1,2]]]);
//# sourceMappingURL=main.6bb0ff66.chunk.js.map