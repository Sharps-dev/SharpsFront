(this.webpackJsonpse_project=this.webpackJsonpse_project||[]).push([[0],{124:function(e,t,a){},158:function(e,t,a){},232:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){"use strict";a.r(t);var n=a(15),s=a.n(n),r=a(0),c=a.n(r),o=a(42),i=a(72),l=a(180),d=a(8),u="SET_CHANGE",j="SET_ALERTM",b="SET_LOGIN_STATE",p="SET_ALERTS",h=a(22),O=a.n(h),m={change:!1,alertM:"undefined",alertS:!1,logged_in:!1},g="SET_STATE",f="SET_FIRSTNAME",x="SET_LASTNAME",v="SET_USERNAME",y="SET_EMAIL",w="SET_PASSWORD",S="SET_AVATAR",k={firstname:"undefined",lastname:"undefined",username:"undefined",email:"undefined",password:"undefined",avatar:"undefined"},N=Object(i.b)({login_signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u:return Object(d.a)(Object(d.a)({},e),{},{change:n.change});case j:return Object(d.a)(Object(d.a)({},e),{},{alertM:n.alertM});case p:return Object(d.a)(Object(d.a)({},e),{},{alertS:n.alertS});case b:return Object(d.a)(Object(d.a)({},e),{},{logged_in:n.success});default:return e}},UserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case f:return Object(d.a)(Object(d.a)({},e),{},{firstname:n.firstname});case g:return Object(d.a)(Object(d.a)({},e),{},{firstname:n.firstname,lastname:n.lastname,avatar:n.avatar,username:n.username,email:n.email});case x:return Object(d.a)(Object(d.a)({},e),{},{lastname:n.lastname});case v:return Object(d.a)(Object(d.a)({},e),{},{username:n.username});case y:return Object(d.a)(Object(d.a)({},e),{},{email:n.email});case w:return Object(d.a)(Object(d.a)({},e),{},{password:n.password});case S:return Object(d.a)(Object(d.a)({},e),{},{avatar:n.avatar});default:return e}}}),C=[Object(l.a)()],T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=T(i.a.apply(void 0,C))(i.d),a=t(N,e);return a}(),E=a(40),I=a(18),_=(a(232),a(233),a(292)),P=(a(81),a(26)),B=a.n(P),F=a(45),L=a(24),R=a(14),M=function(){return{mode:"cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token"),mode:"cors"}}},z=a(286),D=a(291),H=a(289),U=a(290),W=a(288),G=a(321),Z=a(296),K=a(295),J=a(69),V=a.n(J),X=a(317),$=a(163),q=a(4),Y=a(283),Q=a(294),ee=a(114),te=a(293),ae=a(166),ne=a.n(ae),se=a(165),re=a.n(se);function ce(e){return{type:j,payload:{alertM:e}}}function oe(e){return{type:p,payload:{alertS:e}}}var ie=a(1),le=Object(Y.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},fabProgress:{color:ee.a[500],position:"absolute",top:-2,left:-2,zIndex:1},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},alert:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),de=Object(o.b)((function(e){return{alertS:e.login_signup.alertS,alertM:e.login_signup.alertM}}),(function(e){return{setAlertS:function(t){return e(oe(t))},setAlertM:function(t){return e(ce(t))}}}))((function(e){var t=e.setAlertS,a=e.setAlertM,n=e.alertM,s=e.alertS,o=Object(r.useState)(""),i=Object(R.a)(o,2),l=i[0],u=i[1],j=Object(r.useState)({password:"",confirmPassword:""}),b=Object(R.a)(j,2),p=b[0],h=b[1],m=Object(r.useState)(""),g=Object(R.a)(m,2),f=g[0],x=g[1],v=Object(r.useState)(""),y=Object(R.a)(v,2),w=y[0],S=y[1],k=Object(I.g)(),N=le(),C=c.a.useState(!1),T=Object(R.a)(C,2),A=T[0],E=T[1],P=c.a.useState(!1),B=Object(R.a)(P,2),F=B[0],J=B[1],Y=c.a.useRef(),ee=function(e){a(e),t(!0)},ae=Object(q.a)(Object(L.a)({},N.buttonSuccess,F));c.a.useEffect((function(){return function(){clearTimeout(Y.current)}}),[]);function se(e){u(e);var t="";0===e.length&&(t="Enter your username."),x(t)}function ce(e){h(Object(d.a)(Object(d.a)({},p),{},{password:e}));var t="";0===e.length&&(t="Enter your password."),S(t)}var oe=c.a.useState(!1),de=Object(R.a)(oe,2),ue=de[0],je=de[1],be=Object(r.useState)(""),pe=Object(R.a)(be,2),he=pe[0],Oe=pe[1],me=Object(r.useState)(""),ge=Object(R.a)(me,2),fe=ge[0],xe=ge[1],ve=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function ye(e){Oe(e);var t="";ve.test(String(e).toLowerCase())||(t="Invalid email address!"),xe(t)}return Object(ie.jsx)("div",{className:"row justify-content-center",children:Object(ie.jsxs)(X.a,{className:"centered",onSubmit:function(e){e.preventDefault()},children:[Object(ie.jsxs)(X.a.Group,{controlId:"username",children:[Object(ie.jsx)(X.a.Control,{className:"loginforms",type:"text",placeholder:" Username",onChange:function(e){u(e.target.value)},onBlur:function(e){return se(e.target.value)},isInvalid:Boolean(f)}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:f})]}),Object(ie.jsxs)($.a,{children:[Object(ie.jsx)(X.a.Control,{className:"loginforms",type:"password",placeholder:" Password",isInvalid:Boolean(w),onChange:function(e){h(Object(d.a)(Object(d.a)({},p),{},{password:e.target.value}))},onBlur:function(e){return ce(e.target.value)}}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:w})]}),Object(ie.jsx)("button",{onClick:function(e){e.preventDefault();var t={username:l,password:p.password},a=JSON.stringify(t);O.a.post("https://sharpsback.herokuapp.com/user/login",a,M()).then((function(e){console.log("logged In"),console.log(e),localStorage.setItem("token",e.data.token),k.push("/explore")})).catch((function(e){console.log(e.response),console.log("not logged In"),console.log(e.response.status),console.log(e.response.data.error),e.response.status<500&&e.response.status>399&&ee(e.response.data.error)}))},className:"loginB",children:"Login"}),Object(ie.jsx)("p",{onClick:function(){je(!0)},className:"forgotpassword",children:"Forgot password?"}),Object(ie.jsxs)(z.a,{open:ue,"aria-labelledby":"form-dialog-title",children:[Object(ie.jsx)(W.a,{id:"form-dialog-title",children:"Forgot your password?"}),Object(ie.jsxs)(H.a,{children:[Object(ie.jsx)(U.a,{children:"To set a new password, please enter your email address here. If the email you specified exists in our system and is verified, we will send a password reset link to it."}),Object(ie.jsx)(X.a.Control,{type:"email",placeholder:"Email",onChange:function(e){ye(e.target.value)},onBlur:function(e){return ye(e.target.value)},isInvalid:Boolean(fe)}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:fe})]}),Object(ie.jsxs)(D.a,{children:[Object(ie.jsx)(_.a,{onClick:function(){je(!1),k.push("/login_signup")},color:"primary",children:"Cancel"}),Object(ie.jsx)("div",{className:N.root,children:Object(ie.jsx)("div",{className:N.wrapper,children:Object(ie.jsxs)(te.a,{"aria-label":"save",color:"primary",className:ae,onClick:function(){if(""==he)ye(he);else if(!fe){A||(J(!1),E(!0),Y.current=window.setTimeout((function(){J(!0),E(!1),je(!1)}),2e3));var e={email:he},t=JSON.stringify(e);O.a.post("https://sharpsback.herokuapp.com/user/resetpassword",t,M()).then((function(e){console.log("email sent"),console.log(e),k.push("/login_signup"),localStorage.setItem("token",e.data.token)})).catch((function(e){console.log(e.response),console.log("email not sent"),e.response.status<500&&e.response.status>399&&ee(e.response.data.error)}))}},children:[F?Object(ie.jsx)(re.a,{}):Object(ie.jsx)(ne.a,{}),A&&Object(ie.jsx)(Q.a,{size:60,className:N.fabProgress})]})})})]})]}),Object(ie.jsx)("div",{className:N.alert,children:Object(ie.jsx)(K.a,{in:s,children:Object(ie.jsx)(G.a,{severity:"error",action:Object(ie.jsx)(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(e){t(!1)},children:Object(ie.jsx)(V.a,{fontSize:"inherit"})}),children:n})})})]})})})),ue=a(297),je=a(164),be=Object(Y.a)((function(e){return{alert:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var pe=Object(o.b)((function(e){return{alertS:e.login_signup.alertS,alertM:e.login_signup.alertM}}),(function(e){return{setAlertS:function(t){return e(oe(t))},setAlertM:function(t){return e(ce(t))}}}))((function(e){var t=e.setAlertS,a=e.setAlertM,n=e.alertM,s=e.alertS,c=Object(r.useState)({}),o=Object(R.a)(c,2),i=(o[0],o[1],Object(r.useState)("")),l=Object(R.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(""),p=Object(R.a)(b,2),h=p[0],m=p[1],g=Object(r.useState)(""),f=Object(R.a)(g,2),x=f[0],v=f[1],y=Object(r.useState)(""),w=Object(R.a)(y,2),S=w[0],k=w[1],N=Object(r.useState)({password:"",confirmPassword:""}),C=Object(R.a)(N,2),T=C[0],A=C[1],E=Object(r.useState)(""),_=Object(R.a)(E,2),P=_[0],B=_[1],F=Object(r.useState)(""),L=Object(R.a)(F,2),z=L[0],D=L[1],H=Object(r.useState)(""),U=Object(R.a)(H,2),W=U[0],J=U[1],$=Object(r.useState)(""),q=Object(R.a)($,2),Y=q[0],Q=q[1],ee=Object(r.useState)(""),te=Object(R.a)(ee,2),ae=te[0],ne=te[1],se=Object(r.useState)(""),re=Object(R.a)(se,2),ce=re[0],oe=re[1],le=be(),de=Object(I.g)();function pe(e){m(e);var t="";0===e.length&&(t=" Last name is required."),B(t)}function he(e){v(e);var t="";0===e.length&&(t=" First name is required."),D(t)}function Oe(e){k(e);var t="";0===e.length&&(t=" This username is already taken!"),J(t)}var me=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function ge(e){j(e);var t="";me.test(String(e).toLowerCase())||(t="Invalid email address!"),Q(t)}var fe=/^((?=.*[0-9]{1,})|(?=.*[!.@#$&*-_]{1,}))(?=.*[a-z]{1,}).{8,}$/;function xe(e){A(Object(d.a)(Object(d.a)({},T),{},{password:e}));var t="";e.length<8?t="Password must be 8 characters long.":fe.test(String(e).toLowerCase())||(t="Invalid password!"),ne(t)}function ve(e){A(Object(d.a)(Object(d.a)({},T),{},{confirmPassword:e}));var t="";T.password!==e&&(t="It doesn't match the password!"),oe(t)}return Object(ie.jsx)("div",{className:"row justify-content-center signupPaper",children:Object(ie.jsxs)(X.a,{className:"signUpForm centered",onSubmit:function(e){e.preventDefault()},children:[Object(ie.jsxs)(ue.a,{children:[Object(ie.jsxs)(X.a.Group,{as:je.a,controlId:"formGridFirstname",children:[Object(ie.jsx)(X.a.Control,{className:"signupforms",type:"text",placeholder:"First Name",onKeyPress:function(e){"Enter"===e.key&&he(e.target.value)},onBlur:function(e){return he(e.target.value)},isInvalid:Boolean(z)}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:z})]}),Object(ie.jsxs)(X.a.Group,{as:je.a,controlId:"formGridLastname",children:[Object(ie.jsx)(X.a.Control,{className:"signupforms",type:"text",placeholder:"Last Name",onKeyPress:function(e){"Enter"===e.key&&pe(e.target.value)},onBlur:function(e){return pe(e.target.value)},isInvalid:Boolean(P)}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:P})]})]}),Object(ie.jsxs)(X.a.Group,{controlId:"username",children:[Object(ie.jsx)(X.a.Control,{className:"signupforms",type:"text",placeholder:"Username",onKeyPress:function(e){"Enter"===e.key&&Oe(e.target.value)},onBlur:function(e){return Oe(e.target.value)},isInvalid:Boolean(W)}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:W})]}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)(X.a.Control,{className:"signupforms",type:"email",placeholder:"Email",onKeyPress:function(e){"Enter"===e.key&&ge(e.target.value)},onBlur:function(e){return ge(e.target.value)},isInvalid:Boolean(Y)}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:Y})]}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)(X.a.Control,{className:"signupforms",type:"password",placeholder:"Password",isInvalid:Boolean(ae),onKeyPress:function(e){"Enter"===e.key&&xe(e.target.value)},onBlur:function(e){return xe(e.target.value)}}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:ae})]}),Object(ie.jsxs)("div",{className:"form-group",children:[Object(ie.jsx)(X.a.Control,{className:"signupforms",type:"password",placeholder:"Confirm Password",isInvalid:Boolean(ce),onKeyPress:function(e){"Enter"===e.key&&ve(e.target.value)},onBlur:function(e){return ve(e.target.value)}}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:ce})]}),Object(ie.jsx)("button",{className:"signupB",onClick:function(e){e.preventDefault();var n={firstname:x,lastname:h,username:S,email:u,password:T.password,avatar:null},s=JSON.stringify(n);console.log(s),O.a.post("https://sharpsback.herokuapp.com/user/signup",s,M()).then((function(e){console.log("signed up"),console.log(e),localStorage.setItem("token",e.data.token),de.push("/explore")})).catch((function(e){console.log(e.response),console.log("not signed up"),e.response.status<500&&e.response.status>399&&function(e){a(e),t(!0)}(e.response.data.error)}))},children:"Sign Up"}),Object(ie.jsx)("div",{style:{marginTop:"15px"},className:le.alert,children:Object(ie.jsx)(K.a,{in:s,children:Object(ie.jsx)(G.a,{severity:"error",action:Object(ie.jsx)(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(e){t(!1)},children:Object(ie.jsx)(V.a,{fontSize:"inherit"})}),children:n})})})]})})})),he=Object(o.b)((function(e){return{change:e.login_signup.change,alertS:e.login_signup.alertS}}),(function(e){return{setChange:function(t){return e({type:u,payload:{change:t}})},setAlertS:function(t){return e(oe(t))}}}))((function(e){var t=e.change,a=e.setChange,n=e.setAlertS;return Object(ie.jsxs)("div",{className:"mainDiv",children:[Object(ie.jsx)("div",{className:"loginform",id:"loginform",children:Object(ie.jsx)("div",{className:"loginpage",children:Object(ie.jsx)(de,{})})}),Object(ie.jsx)("div",{className:"signupform",id:"signupform",children:Object(ie.jsx)("div",{className:"signuppage",children:Object(ie.jsx)(pe,{})})}),Object(ie.jsxs)("div",{className:"photo_login",id:"signupphoto",children:[Object(ie.jsx)("h1",{className:"text_header",children:" Sharp "}),Object(ie.jsx)(_.a,{onClick:function(e){var s=document.getElementById("signupphoto");t?(s.classList.add("unchange"),s.classList.remove("change"),a(!1),n(!1)):(s.classList.add("change"),s.classList.remove("unchange"),a(!0),n(!1)),document.getElementById("signupform").classList.toggle("signupshow"),document.getElementById("loginform").classList.toggle("loginhide")},id:"mybutton",size:"large",className:"buttonMain",variant:"outlined",children:"Start"})]})]})})),Oe=a(27),me=a(28),ge=a(30),fe=a(29),xe=a(90),ve=a(299),ye=a(184),we=a(324),Se=a(325),ke=a(300),Ne=a(318),Ce=a(132),Te=a.n(Ce),Ae=a(133),Ee=a.n(Ae);function Ie(e){return{type:f,payload:{firstname:e}}}function _e(e){return{type:g,payload:{firstname:e.firstname,lastname:e.lastname,avatar:e.avatar,username:e.username,email:e.email}}}var Pe=a(298);a(124);function Be(e){var t=Object(I.g)();return Object(ie.jsx)("div",{children:Object(ie.jsxs)(z.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ie.jsx)(W.a,{id:"alert-dialog-title",children:"Are you sure you want to delete your accout ?"}),Object(ie.jsx)(H.a,{children:Object(ie.jsx)(U.a,{id:"alert-dialog-description",children:"all of your datas and histories will be deleted ."})}),Object(ie.jsxs)(D.a,{children:[Object(ie.jsx)(_.a,{className:"Button",variant:"contained",onClick:e.handleClose,style:{backgroundColor:"#00695C",color:"white"},children:"Disagree"}),Object(ie.jsx)(_.a,{className:"Button",variant:"contained",onClick:function(){var e;e=function(){t.push("/login")},O.a.delete("https://sharpsback.herokuapp.com/user/",M()).then((function(t){console.log("deleted"),e()})).catch((function(e){console.log(e)}))},color:"secondary",autoFocus:!0,children:"Agree"})]})]})})}a(155);var Fe=a(319),Le=a(316),Re=a(171),Me=a.n(Re);var ze=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).uploadImage=function(){var e=Object(F.a)(B.a.mark((function e(t){var a,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,n.convertBase64(a);case 3:s=e.sent,console.log(btoa(s)),n.props.SET_AVATAR(btoa(s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.convertBase64=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){a(e)}}))},n.handleCancel=function(){return n.setState({previewVisible:!1})},n.state={loading:!1},n}return Object(me.a)(a,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e=this,t="avatar";return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"imageHolder",children:Object(ie.jsx)(Le.a,{width:150,height:150,src:null!=this.props.avatar?atob(this.props.avatar):"https://i.stack.imgur.com/l60Hf.png"})}),Object(ie.jsxs)("div",{className:"camera_button",children:[Object(ie.jsx)("input",{accept:"image/*",style:{display:"none"},id:t,name:t,type:"file",onChange:function(t){e.uploadImage(t),e.uploadImage(t),e.uploadImage(t)}}),Object(ie.jsx)("label",{htmlFor:t,children:Object(ie.jsx)(_.a,{component:"span",className:"Button",variant:"contained",color:"primary",startIcon:Object(ie.jsx)(Me.a,{}),children:"Add photo"})})]})]})}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(c.a.Component),De=Object(o.b)((function(e){return Object(d.a)(Object(d.a)({},e),{},{avatar:e.UserReducer.avatar})}),(function(e){return{SET_AVATAR:function(t){return e({type:S,payload:{avatar:t}})}}}))(ze),He=Object(Y.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Ue(e){var t=He(),a=c.a.useState(!1),n=Object(R.a)(a,2),s=n[0],r=n[1];return Object(ie.jsx)("div",{className:t.root,children:Object(ie.jsxs)(K.a,{in:s||e.show,children:['severity="success" action=',Object(ie.jsx)(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){r(!1)},children:Object(ie.jsx)(V.a,{fontSize:"inherit"})}),e.text]})})}var We=Object(Y.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Ge(e){var t=We(),a=c.a.useState(!1),n=Object(R.a)(a,2),s=n[0],r=n[1];return Object(ie.jsx)("div",{className:t.root,children:Object(ie.jsx)(K.a,{in:s||e.show,children:Object(ie.jsx)(G.a,{severity:"error",action:Object(ie.jsx)(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){r(!1)},children:Object(ie.jsx)(V.a,{fontSize:"inherit"})}),children:e.text})})})}var Ze=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),n=t.call(this,e),O.a.get("https://sharpsback.herokuapp.com/user/",M()).then((function(e){console.log("shiiit"),A.dispatch(_e(e.data))})).catch((function(e){console.log(e)})),n.state={visible:!1,showSuccessAlert:!1,SuccesAlertText:"Profile has been changed succes fully ",showFailureAlert:!1,FailAlertText:"",deleteAccountModalOpen:!1,loading:!1,last_state:null,values:{amount:"",password:"",confirmPassword:"",weight:"",weightRange:"",showPassword:!1,showConfirmPassword:!1}},n}return Object(me.a)(a,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=Object(Y.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var a=Fe.a.Panel,n=function(t){return function(a){e.setState({values:Object(d.a)(Object(d.a)({},e.state.values),{},Object(L.a)({},t,a.target.value))})}},s=function(e){e.preventDefault()};return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(ye.a,{elevation:5,className:"paper",children:[Object(ie.jsx)(Pe.a,{container:!0,children:Object(ie.jsx)(Pe.a,{item:!0,xs:12,children:Object(ie.jsx)(xe.a,{variant:"h6",children:"Edit Profile"})})}),Object(ie.jsxs)(ve.a,{maxWidth:"lg",className:"container",children:[Object(ie.jsx)(Ue,{show:this.state.showSuccessAlert,text:this.state.SuccesAlertText}),Object(ie.jsx)(Ge,{show:this.state.showFailureAlert,text:this.state.FailAlertText}),"undefined"!=this.props.avatar?Object(ie.jsxs)(ie.Fragment,{children:[" ",Object(ie.jsx)(De,{})," "]}):Object(ie.jsx)(Q.a,{style:{marginBottom:"15px"},color:"#0f0b3e"}),Object(ie.jsxs)(Fe.a,{"data-testid":"Collapse",onChange:function(e){},children:[Object(ie.jsxs)(a,{style:{textAlign:"left"},header:this.state.last_state?this.state.last_state.firstname:"Name :",children:[Object(ie.jsx)(Ne.a,{className:"TextField",onChange:function(t){e.props.SET_FIRSTNAME(t.target.value)},value:this.props.firstname,label:"FirstName",variant:"outlined",role:"FirstnameTextField"}),Object(ie.jsx)(Ne.a,{className:"TextField",onChange:function(t){e.props.SET_LASTNAME(t.target.value)},value:this.props.lastname,id:"outlined-basic",label:"LastName",variant:"outlined",role:"LastnameTextField"})]},"1"),Object(ie.jsx)(a,{style:{textAlign:"left"},header:"Username :",children:Object(ie.jsx)(Ne.a,{disabled:!0,className:"TextField",id:"outlined-basic",value:this.props.username,onChange:function(t){e.props.SET_USERNAME(t.target.value)},label:"Username",variant:"outlined",role:"UsernameTextField"})},"2"),Object(ie.jsxs)(a,{style:{textAlign:"left"},header:"Email : ",children:[Object(ie.jsx)(Ne.a,{disabled:!0,className:"TextField",value:this.props.email,onChange:function(t){e.props.SET_EMAIL(t.target.value)},id:"outlined-basic",label:"Email",variant:"outlined",role:"EmailTextField"}),Object(ie.jsx)("ul",{style:{width:"50%"},children:Object(ie.jsx)("li",{children:Object(ie.jsx)(xe.a,{variant:"subtitle1",style:{marginTop:"5px"},children:"Your email would be used to communicate with you ."})})})]},"3"),Object(ie.jsxs)(a,{style:{textAlign:"left"},header:"Password : ",children:[Object(ie.jsxs)(ke.a,{className:Object(q.a)(t.margin,t.textField),variant:"outlined",children:[Object(ie.jsx)(Se.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(ie.jsx)(we.a,{id:"outlined-adornment-password",type:this.state.values.showPassword?"text":"password",value:this.state.values.password,onChange:n("password"),endAdornment:Object(ie.jsx)(Z.a,{"aria-label":"toggle password visibility",onClick:function(){e.setState({values:Object(d.a)(Object(d.a)({},e.state.values),{},{showPassword:!e.state.values.showPassword})})},onMouseDown:s,edge:"end",children:this.state.values.showPassword?Object(ie.jsx)(Te.a,{}):Object(ie.jsx)(Ee.a,{})}),labelWidth:70})]}),Object(ie.jsxs)(ke.a,{className:Object(q.a)(t.margin,t.textField),style:{marginleft:"5px"},variant:"outlined",children:[Object(ie.jsx)(Se.a,{htmlFor:"outlined-adornment-password",children:"Confirm"}),Object(ie.jsx)(we.a,{className:"TextField",id:"outlined-adornment-password",type:this.state.values.showConfirmPassword?"text":"password",value:this.state.values.confirmPassword,onChange:n("confirmPassword"),endAdornment:Object(ie.jsx)(Z.a,{color:"#023047","aria-label":"toggle password visibility",onClick:function(){e.setState({values:Object(d.a)(Object(d.a)({},e.state.values),{},{showConfirmPassword:!e.state.values.showConfirmPassword})})},onMouseDown:s,edge:"end",children:this.state.values.showConfirmPassword?Object(ie.jsx)(Te.a,{}):Object(ie.jsx)(Ee.a,{})}),labelWidth:70})]})]},"4"),Object(ie.jsxs)(a,{style:{textAlign:"left"},header:"deactivate",children:[Object(ie.jsx)(_.a,{onClick:function(){e.setState({deleteAccountModalOpen:!0})},size:"Medium",className:"Button",variant:"contained",color:"secondary",children:"Delete Account"}),Object(ie.jsx)(Be,{open:this.state.deleteAccountModalOpen,handleClose:function(){e.setState({deleteAccountModalOpen:!1})}})]},"5")]}),Object(ie.jsx)("div",{className:"wrapper",children:Object(ie.jsxs)(_.a,{disabled:this.state.loading,size:"large",className:"Button",variant:"contained",color:"primary",onClick:function(){e.state.values.password==e.state.values.confirmPassword?(e.setState({showFailureAlert:!1,loading:!0}),e.props.SET_PASSWORD(e.state.values.password)):e.setState({showFailureAlert:!0,FailAlertText:"Passwords dont match "}),0==e.state.showFailureAlert&&function(e,t,a){var n=JSON.stringify(e);O.a.put("https://sharpsback.herokuapp.com/user/",n,M()).then((function(e){console.log("updated"),t()})).catch((function(e){console.log(e),a(e.message)}))}(A.getState().UserReducer,(function(){e.setState({showSuccessAlert:!0,loading:!1})}),(function(t){e.setState({FailAlertText:t,showFailureAlert:!0,loading:!1})}))},children:["Save",this.state.loading&&Object(ie.jsx)(Q.a,{style:{color:"green"},size:24,className:"buttonProgress"})]})})]})]})})}}]),a}(c.a.Component),Ke=Object(o.b)((function(e){return Object(d.a)(Object(d.a)({},e),{},{firstname:e.UserReducer.firstname,lastname:e.UserReducer.lastname,username:e.UserReducer.username,email:e.UserReducer.email,password:e.UserReducer.password,avatar:e.UserReducer.avatar})}),(function(e){return{SET_STATE:function(t){return e(_e(t))},SET_FIRSTNAME:function(t){return e(Ie(t))},SET_LASTNAME:function(t){return e({type:x,payload:{lastname:t}})},SET_USERNAME:function(t){return e({type:v,payload:{username:t}})},SET_EMAIL:function(t){return e({type:y,payload:{email:t}})},SET_PASSWORD:function(t){return e({type:w,payload:{password:t}})},SET_AVATAR:function(t){return e(Ie(t))}}}))(Ze),Je=a(47),Ve=a(134),Xe=a.n(Ve),$e=Object(Je.a)();$e.location=Object(d.a)(Object(d.a)({},$e.location),{},{query:Xe.a.parse($e.location.search.substr(1)),state:{modal:!1,scroll:!1}}),$e.listen((function(){$e.location=Object(d.a)(Object(d.a)({},$e.location),{},{query:Xe.a.parse($e.location.search.substr(1)),state:$e.location.state||{}})}));var qe=$e,Ye=a(21),Qe=a(46),et=a(303),tt=(a(91),a(70)),at=a(128),nt=a.n(at),st=a(322),rt=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={url:"",eventType:"LIKE",updated:!1,openSnack:!1,massage:"",userHistory:[{domain:""}]},n.updatelike=n.updatelike.bind(Object(tt.a)(n)),n}return Object(me.a)(a,[{key:"updatelike",value:function(){this.state.updated?this.setState((function(e,t){return{updated:!1}})):this.setState((function(e,t){return{updated:!0}})),this.content()}},{key:"content",value:function(){var e=this,t=new Headers;t.append("Authorization","Bearer "+localStorage.getItem("token")),t.append("Content-Type","application/json");var a={};a.url=this.props.url,a.eventType="LIKE";var n=JSON.stringify(a);fetch("https://sharpsback.herokuapp.com/userHistory",{method:"POST",body:n,headers:t}).then((function(t){if(console.log(t.status),201===t.status)return e.setState({openSnack:!0}),e.setState({massage:"liked"}),t.json()})).then((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.getlike()}},{key:"getlike",value:function(){var e=this;O.a.get("https://sharpsback.herokuapp.com/userHistory",M()).then((function(t){e.setState({userHistory:t.userHistory}),e.state.userHistory.map((function(t){t.domain==e.props.url&&e.setState({updated:!0})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("i",{className:"material-icons ",onClick:function(){e.updatelike()},children:[" ",Object(ie.jsx)(nt.a,{})]}),Object(ie.jsx)(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.openSnack,autoHideDuration:500,message:Object(ie.jsx)("div",{style:{fontSize:17},children:this.state.massage})})]})}}]),a}(c.a.Component),ct=a(173),ot=a.n(ct),it=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={updated:!1,openSnack:!1,massage:"",domain:""},n.updateblock=n.updateblock.bind(Object(tt.a)(n)),n}return Object(me.a)(a,[{key:"updateblock",value:function(){this.state.updated?this.setState((function(e,t){return{updated:!1}})):this.setState((function(e,t){return{updated:!0}})),this.content()}},{key:"content",value:function(){var e=this,t=new Headers;t.append("Authorization","Bearer "+localStorage.getItem("token")),t.append("Content-Type","application/json");var a={};a.domain=this.props.url;var n=JSON.stringify(a);fetch("https://sharpsback.herokuapp.com/user/blockedDomains",{method:"POST",body:n,headers:t}).then((function(t){if(console.log(t.status),200===t.status)return e.setState({openSnack:!0}),e.setState({massage:"blocked"}),t.json()})).then((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("i",{className:"material-icons ",onClick:function(){e.updateblock()},children:[" ",Object(ie.jsx)(ot.a,{})]}),Object(ie.jsx)(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.openSnack,autoHideDuration:2500,message:Object(ie.jsx)("div",{style:{fontSize:17},children:this.state.massage})})]})}}]),a}(c.a.Component),lt=a(84),dt=a.n(lt),ut=a(174),jt=a.n(ut),bt=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={url:"",updated:!1,items:[],total:""},n.updatesave=n.updatesave.bind(Object(tt.a)(n)),n}return Object(me.a)(a,[{key:"updatesave",value:function(){this.state.updated?this.setState((function(e,t){return{updated:!1}})):this.setState((function(e,t){return{updated:!0}})),this.save()}},{key:"save",value:function(){var e=new Headers;e.append("Authorization","Bearer "+localStorage.getItem("token")),e.append("Content-Type","application/json");var t={};t.url=this.props.url;var a=JSON.stringify(t);fetch("https://sharpsback.herokuapp.com/user/savedContents",{method:"POST",body:a,headers:e}).then((function(e){console.log(e.status)})).then((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.getsave()}},{key:"getsave",value:function(){var e=this;fetch("https://sharpsback.herokuapp.com/user/savedContents",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if(console.log(e),200===e.status)return e.json();401===e.status&&window.location.replace("/login")})).then((function(t){e.setState({items:t.items,total:t.total}),e.state.items.map((function(t){t.url===e.props.url&&e.setState({updated:!0})}))}))}},{key:"render",value:function(){var e=this;return Object(ie.jsx)("div",{children:Object(ie.jsx)("i",{className:"material-icons ",onClick:function(){e.updatesave()},children:this.state.updated?Object(ie.jsx)(dt.a,{}):Object(ie.jsx)(jt.a,{})})})}}]),a}(c.a.Component),pt=Object(Y.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3)},search:Object(L.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ye.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ye.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(L.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var ht=Object(I.h)((function(){var e=pt(),t=(Object(Qe.a)(),Object(r.useState)(!1)),a=Object(R.a)(t,2),n=(a[0],a[1],Object(r.useState)({items:[],total:""})),s=Object(R.a)(n,2),c=s[0],o=s[1];Object(r.useEffect)(Object(F.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i();case 1:case"end":return e.stop()}}),e)}))));var i=function(){fetch("https://sharpsback.herokuapp.com/user/suggestions",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if(console.log(e),200===e.status)return e.json();401===e.status&&window.location.replace("/login")})).then((function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{items:e.items,total:e.total})})),console.log("data")}))};return Object(ie.jsx)("div",{children:Object(ie.jsxs)("div",{className:e.root,children:[Object(ie.jsx)(et.a,{}),Object(ie.jsx)("div",{className:e.drawerHeader}),Object(ie.jsx)("div",{className:"explore",children:0===c.length?Object(ie.jsx)("div",{}):c.items.map((function(e){if(e)return Object(ie.jsx)("div",{style:{spacing:"50%"},children:Object(ie.jsx)("div",{class:"card mb-3 ",children:Object(ie.jsxs)("div",{class:"row no-gutters",children:[Object(ie.jsxs)("div",{class:"col-md-4",children:[Object(ie.jsx)("img",{variant:"top",src:null!=e.image?e.image:"https://om.rosheta.com/upload/61e6aa724ce98c29726e423dd146e4bc9435f9ea5eca681a349a2e2ab0a23494.png",rounded:!0,class:"card-img",alt:"..."}),Object(ie.jsxs)("div",{style:{display:"flex",content:"center",height:"40px",marginBottom:"2px",paddingLeft:"20px"},children:[Object(ie.jsx)(bt,{url:e.url}),Object(ie.jsx)(rt,{url:e.url}),Object(ie.jsx)(it,{url:e.url})]})]}),Object(ie.jsx)("div",{class:"col-md-8",children:Object(ie.jsxs)("div",{class:"card-body",children:[Object(ie.jsx)("h5",{class:"card-title",children:e.title}),Object(ie.jsxs)("p",{class:"card-text",children:[" ",e.des,"  "]}),Object(ie.jsx)("a",{href:"//"+e.url,class:"stretched-link"})]})})]})})})}))})]})})})),Ot=function(e){var t=Object(Y.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),a=Object(r.useState)(""),n=Object(R.a)(a,2),s=n[0],o=n[1],i=Object(r.useState)({password:"",confirmPassword:""}),l=Object(R.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(""),p=Object(R.a)(b,2),h=p[0],m=p[1],g=Object(I.g)(),f=t(),x=c.a.useState(!1),v=Object(R.a)(x,2),y=v[0],w=v[1],S=c.a.useState(!1),k=Object(R.a)(S,2),N=k[0],C=k[1],T=c.a.useRef(),A=Object(q.a)(Object(L.a)({},f.buttonSuccess,N));c.a.useEffect((function(){return function(){clearTimeout(T.current)}}),[]);var E=/^((?=.*[0-9]{1,})|(?=.*[!.@#$&*-_]{1,}))(?=.*[a-z]{1,}).{8,}$/;function P(e){j(Object(d.a)(Object(d.a)({},u),{},{password:e}));var t="";e.length<8?t="Password must be 8 characters long.":E.test(String(e).toLowerCase())||(t="Invalid password!"),o(t)}function B(e){j(Object(d.a)(Object(d.a)({},u),{},{confirmPassword:e}));var t="";u.password!==e&&(t="It doesn't match the password!"),m(t)}return Object(ie.jsx)("div",{children:Object(ie.jsxs)(X.a,{className:"centered",onSubmit:function(e){e.preventDefault()},children:[Object(ie.jsx)(X.a.Control,{className:"signupforms",type:"password",placeholder:"Password",isInvalid:Boolean(s),onChange:function(e){P(e.target.value)},onBlur:function(e){return P(e.target.value)}}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:s}),Object(ie.jsx)(X.a.Control,{className:"signupforms",type:"password",placeholder:"Confirm Password",isInvalid:Boolean(h),onChange:function(e){B(e.target.value)},onBlur:function(e){return B(e.target.value)}}),Object(ie.jsx)(X.a.Control.Feedback,{type:"invalid",children:h}),Object(ie.jsxs)("div",{className:f.wrapper,children:[Object(ie.jsx)(_.a,{variant:"contained",color:"primary",className:A,disabled:y,onClick:function(e){if(""==u.password||""==u.confirmPassword||""!=s)P(u.password),B(u.confirmPassword);else if(!s){y||(C(!1),w(!0),T.current=window.setTimeout((function(){C(!0),w(!1)}),2e3));var t=window.location.href.split("?t=").reverse()[0],a={password:u.password,confirmPassword:u.confirmPassword,token:t},n=JSON.stringify(a);console.log(n),O.a.put("https://sharpsback.herokuapp.com/user/password",n,M()).then((function(e){console.log("pass set"),console.log(e),g.push("/login_signup"),localStorage.setItem("token",e.data.token)})).catch((function(e){console.log(t),console.log(e.response),console.log("pass not set")}))}},children:"Set Password"}),y&&Object(ie.jsx)(Q.a,{size:24,className:f.buttonProgress})]})]})})},mt=function(e){var t=Object(Y.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:ee.a[500],"&:hover":{backgroundColor:ee.a[700]}},buttonProgress:{color:ee.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),a=Object(I.g)(),n=t(),s=c.a.useState(!1),r=Object(R.a)(s,2),o=r[0],i=r[1],l=c.a.useState(!1),d=Object(R.a)(l,2),u=d[0],j=d[1],b=c.a.useRef(),p=Object(q.a)(Object(L.a)({},n.buttonSuccess,u));c.a.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);return Object(ie.jsx)("div",{children:Object(ie.jsxs)(X.a,{className:"centered",onSubmit:function(e){e.preventDefault()},children:[" ",Object(ie.jsx)("h2",{children:"Account Verified!"}),Object(ie.jsxs)("div",{className:n.wrapper,children:[Object(ie.jsx)(_.a,{variant:"contained",color:"primary",className:p,disabled:o,onClick:function(e){o||(j(!1),i(!0),b.current=window.setTimeout((function(){j(!0),i(!1),a.push("/login_signup")}),2e3))},children:"Ok"}),o&&Object(ie.jsx)(Q.a,{size:24,className:n.buttonProgress})]})]})})},gt=a(176),ft=a.n(gt),xt=a(178),vt=a.n(xt),yt=a(177),wt=a.n(yt),St=a(315),kt=a(179),Nt=a.n(kt),Ct=a(110),Tt=a.n(Ct),At=a(310),Et=a(311),It=a(302),_t=a(312),Pt=a(313),Bt=a(314),Ft=a(327),Lt=a(109),Rt=a.n(Lt),Mt=a(111),zt=a.n(Mt),Dt=a(326),Ht=(a(158),a(25)),Ut=(a(126),function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(me.a)(a,[{key:"render",value:function(){var e=this,t=function(e){return"".concat(e.category)},a=[],n=this.props.data?Object.values(this.props.data).reduce((function(e,t){return e+t}),0):[];this.props.data&&Object.keys(this.props.data).forEach((function(t){var s={tag:t,count:Math.round(e.props.data[t]/n*100)};a.push(s)}));var s=[{data:a}];return Object(ie.jsx)("div",{children:Object(ie.jsxs)(Ht.a,{style:{height:"260px"},children:[Object(ie.jsx)(Ht.i,{role:"DonatChartTitle",text:"favorite topics",className:"Donat_chart_title"}),Object(ie.jsx)(Ht.f,{children:s.map((function(e,a,n){return Object(ie.jsx)(Ht.g,{type:"donut",startAngle:150,data:e.data,tooltip:{visible:!0},field:"count",categoryField:"tag",colorField:"color",children:a===n.length-1&&Object(ie.jsx)(Ht.h,{position:"outsideEnd",background:"none",content:t})})}))}),Object(ie.jsx)(Ht.e,{visible:!1})]})})}}]),a}(r.Component)),Wt=(a(159),["Sat","Sun","Mon","Tue","Wen","Thu","Fri"]),Gt=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(me.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.data),this.setState({data:[{name:"hours",data:this.props.data?Object.values(this.props.data):[]}]})}},{key:"render",value:function(){return Object(ie.jsxs)(Ht.a,{style:{height:"300px"},children:[Object(ie.jsx)(Ht.i,{role:"lineChartTitle",text:"Activity"}),Object(ie.jsx)(Ht.b,{children:Object(ie.jsx)(Ht.c,{title:{text:"Hours"},categories:Wt})}),Object(ie.jsx)(Ht.f,{children:this.state.data&&this.state.data.map((function(e,t){return Object(ie.jsx)(Ht.g,{type:"line",tooltip:{visible:!0},data:e.data,name:e.name},t)}))})]})}}]),a}(c.a.Component),Zt=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){return Object(Oe.a)(this,a),t.call(this,e)}return Object(me.a)(a,[{key:"render",value:function(){var e=this.props.data?Object.keys(this.props.data):[],t=[{name:"time checks",data:this.props.data?Object.values(this.props.data):[]}];return Object(ie.jsxs)(Ht.a,{style:{height:60*t[0].data.length+"px"},children:[Object(ie.jsx)(Ht.i,{role:"BarChartTitle",text:"favorite Links"}),Object(ie.jsx)(Ht.b,{children:Object(ie.jsx)(Ht.c,{categories:e,children:Object(ie.jsx)(Ht.d,{})})}),Object(ie.jsx)(Ht.f,{children:t.map((function(e,t){return Object(ie.jsx)(Ht.g,{stack:!0,gap:2,spacing:.25,type:"bar",tooltip:{visible:!0},data:e.data},t)}))})]})}}]),a}(r.Component),Kt=a(305),Jt=a(309),Vt=a(308),Xt=a(304),$t=a(306),qt=a(307);function Yt(){return O.a.get("https://sharpsback.herokuapp.com/user/blockedDomains",M()).then((function(e){return e.data.blockedDomains})).catch((function(e){console.log(e)}))}var Qt=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={blocked_domains:[],blocked_topics:[]},n}return Object(me.a)(a,[{key:"componentWillMount",value:function(){var e=Object(F.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt();case 2:t=e.sent,this.setState({blocked_domains:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=function(e){return{name:e}},t=(e("https://www.telerik.com/kendo-react-ui/components/charts/series-types/bar/#toc-100-stacked-bar"),e("https://material-ui.com/components/tables/"),e("https://trello.com/c/0f7ZPHGN/85-profile-analytics-features"),e("https://trello.com/"),Object(Y.a)({table:{minWidth:650}}));return Object(ie.jsx)(ie.Fragment,{children:0!=this.state.blocked_domains.length?Object(ie.jsx)(Xt.a,{component:ye.a,children:Object(ie.jsxs)(Kt.a,{className:t.table,"aria-label":"simple table",children:[Object(ie.jsx)($t.a,{children:Object(ie.jsx)(qt.a,{children:Object(ie.jsxs)(Vt.a,{children:[" ",Object(ie.jsx)("b",{children:"Blocked Links "})]})})}),Object(ie.jsx)(Jt.a,{children:this.state.blocked_domains.map((function(e){return Object(ie.jsx)(qt.a,{children:Object(ie.jsx)(Vt.a,{component:"th",scope:"row",children:Object(ie.jsx)("a",{exact:!0,href:e,children:e})})},e)}))})]})}):Object(ie.jsx)("div",{children:Object(ie.jsx)(xe.a,{variant:"h6",style:{color:"#757575"},children:"You haven't blocked any domain ."})})})}}]),a}(c.a.Component);var ea=function(e){Object(ge.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={blocked_domains:[],user_history:[]},n}return Object(me.a)(a,[{key:"componentWillMount",value:function(){var e=Object(F.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://sharpsback.herokuapp.com/userHistory/",M()).then((function(e){return e.data.userHistory})).catch((function(e){console.log(e)}));case 2:return t=e.sent,e.next=5,Yt();case 5:a=e.sent,this.setState({user_history:t,blocked_domains:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[{domain:"example.com",tag:"animal",eventType:"CLICK",createdAt:"2021-05-01T20:04:23.291Z"},{domain:"example.com",tag:"animal",eventType:"CLICK",createdAt:"2021-05-01T20:04:23.291Z"},{domain:"example.com",tag:"animal",eventType:"CLICK",createdAt:"2021-05-01T20:04:23.291Z"},{domain:"google .com",tag:"politics",eventType:"ENTER",createdAt:"2021-05-06T20:04:23.291Z"},{domain:"google.com",tag:"politics",eventType:"EXIT",createdAt:"2021-05-03T20:04:23.291Z"},{domain:"google.com",tag:"string",eventType:"ENTER",createdAt:"2021-05-03T20:04:23.291Z"},{domain:"varzesh3.com",tag:"string",eventType:"EXIT",createdAt:"2021-05-03T20:04:23.291Z"},{domain:"varzesh3.com",tag:"string",eventType:"ENTER",createdAt:"2021-09-03T20:04:23.291Z"},{domain:"twitter.com",tag:"string",eventType:"ENTER",createdAt:"2021-09-03T20:04:23.291Z"}],t=function(e,t){return e.reduce((function(e,a){return Object.assign(e,Object(L.a)({},a[t],1+(e[a[t]]||0)))}),Object.create(null))},a=Object(Y.a)((function(e){return{root:{display:"flex"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),n=Object(q.a)(a.paper,"fixedHeight"),s=(Object(q.a)(a.paper,"fixedHeightNumber"),new Date);return console.log(s),Object(ie.jsxs)("div",{className:a.root,children:[Object(ie.jsx)(et.a,{}),Object(ie.jsx)("main",{className:"content",children:Object(ie.jsx)(ve.a,{className:"container",children:Object(ie.jsxs)(Pe.a,{container:!0,spacing:3,children:[Object(ie.jsx)(Pe.a,{item:!0,xs:12,md:8,lg:8,children:Object(ie.jsx)(ye.a,{elevation:4,className:n,children:Object(ie.jsx)(Gt,{data:function(e,t){return e.filter((function(e){var t=e.eventType;return"ENTER"==t||"EXIT"==t})).reduce((function(e,a){return Object.assign(e,Object(L.a)({},new Date(a[t]).getDay(),1+(e[new Date(a[t]).getDay()]||0)))}),Object.create(null))}(e,"createdAt")})})}),Object(ie.jsx)(Pe.a,{item:!0,xs:12,md:4,lg:4,children:Object(ie.jsx)(ye.a,{elevation:4,className:n,children:Object(ie.jsx)(Ut,{data:t(e,"tag")})})}),Object(ie.jsx)(Pe.a,{item:!0,xs:12,md:4,lg:5,children:Object(ie.jsx)(ye.a,{style:{paddingLeft:"20px",paddingRight:"10px"},elevation:4,children:Object(ie.jsx)(Zt,{data:t(e,"domain")})})}),Object(ie.jsx)(Pe.a,{item:!0,xs:12,md:8,lg:7,children:Object(ie.jsx)(ye.a,{elevation:4,className:"BlockedDomainsPaper",children:Object(ie.jsx)(Qt,{data:this.state.blocked_domains})})})]})})})]})}}]),a}(c.a.Component),ta=(a(242),a(323)),aa=a(175),na=a.n(aa),sa=Object(Y.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},search:Object(L.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ye.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ye.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(L.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var ra=Object(I.h)((function(){var e=sa(),t=(Object(Qe.a)(),Object(r.useState)(!1)),a=Object(R.a)(t,2),n=a[0],s=(a[1],Object(r.useState)({items:[],total:""})),c=Object(R.a)(s,2),o=c[0],i=c[1];Object(r.useEffect)(Object(F.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l();case 1:case"end":return e.stop()}}),e)}))));var l=function(){fetch("https://sharpsback.herokuapp.com/user/savedContents",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if(console.log(e),200===e.status)return e.json();401===e.status&&window.location.replace("/login")})).then((function(e){i((function(t){return Object(d.a)(Object(d.a)({},t),{},{items:e.items,total:e.total})}))}))};return console.log("data"+o.items),Object(ie.jsx)("div",{children:Object(ie.jsxs)("div",{className:e.root,children:[Object(ie.jsx)(et.a,{}),Object(ie.jsx)(At.a,{style:{background:"#0f0b3e"},position:"fixed",className:e.appBar,children:Object(ie.jsxs)(Et.a,{children:[Object(ie.jsx)(xe.a,{variant:"h6",noWrap:!0,children:"??????????"}),Object(ie.jsx)("div",{className:"ex",children:Object(ie.jsxs)("div",{className:e.search,children:[Object(ie.jsx)("div",{className:e.searchIcon,children:Object(ie.jsx)(na.a,{})}),Object(ie.jsx)(ta.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]})})]})}),Object(ie.jsx)(Dt.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:Object(ie.jsx)("div",{className:e.drawerContainer,children:Object(ie.jsxs)(It.a,{children:[Object(ie.jsxs)(_t.a,{button:!0,style:{paddingTop:"30%"},children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(Rt.a,{children:" "})}),Object(ie.jsx)(Bt.a,{primary:"Home"})]},"Homme"),Object(ie.jsx)("li",{children:Object(ie.jsxs)(_t.a,{button:!0,children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(Tt.a,{})}),Object(ie.jsx)(Ke,{})]},"Profile")}),Object(ie.jsxs)(_t.a,{button:!0,children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(dt.a,{})}),Object(ie.jsx)(Bt.a,{primary:"Saved"})]},"Saved"),Object(ie.jsxs)(_t.a,{button:!0,children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(zt.a,{})}),Object(ie.jsx)(Bt.a,{primary:"Logout"})]},"Logout")]})})}),Object(ie.jsxs)("main",{className:Object(q.a)(e.content,Object(L.a)({},e.contentShift,n)),children:[Object(ie.jsx)("div",{className:e.drawerHeader}),Object(ie.jsx)("div",{className:"explore",children:0===o.length?Object(ie.jsx)("div",{}):o.items.map((function(e){if(e)return Object(ie.jsx)("div",{style:{spacing:"50%"},children:Object(ie.jsx)("div",{class:"card mb-3 ",children:Object(ie.jsxs)("div",{class:"row no-gutters",children:[Object(ie.jsx)("div",{class:"col-md-4",children:Object(ie.jsx)("img",{variant:"top",src:null!=e.image?e.image:"https://om.rosheta.com/upload/61e6aa724ce98c29726e423dd146e4bc9435f9ea5eca681a349a2e2ab0a23494.png",rounded:!0,class:"card-img",alt:"..."})}),Object(ie.jsx)("div",{class:"col-md-8",children:Object(ie.jsxs)("div",{class:"card-body",children:[Object(ie.jsx)("h5",{class:"card-title",children:e.title}),console.log(e.title),Object(ie.jsxs)("p",{class:"card-text",children:[" ",e.des," "]}),Object(ie.jsx)("a",{href:"//"+e.url,class:"stretched-link"})]})})]})})})}))})]})]})})})),ca=Object(Y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",height:"20px",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:16},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(1),margin:"0px"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));var oa=Object(o.b)((function(e){return Object(d.a)(Object(d.a)({},e),{},{avatar:e.UserReducer.avatar,name:e.UserReducer.firstname+" "+e.UserReducer.lastname})}))((function(e){var t=ca(),a=c.a.useState(!0),n=Object(R.a)(a,2),s=n[0],r=n[1],o=c.a.useState(""),i=Object(R.a)(o,2),l=i[0],d=i[1],u=c.a.useState("https://i.stack.imgur.com/l60Hf.png"),j=Object(R.a)(u,2),b=j[0],p=j[1];return O.a.get("https://sharpsback.herokuapp.com/user/",M()).then((function(e){d(e.data.firstname+" "+e.data.lastname),p(e.data.avatar)})).catch((function(e){console.log(e)})),Object(q.a)(t.paper,t.fixedHeight),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:t.root,children:[Object(ie.jsx)(et.a,{}),Object(ie.jsx)(At.a,{style:{background:"#0f0b3e"},position:"absolute",className:Object(q.a)(t.appBar,s&&t.appBarShift),children:Object(ie.jsxs)(Et.a,{className:"toolbar",children:[Object(ie.jsx)(Z.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},className:Object(q.a)(t.menuButton,s&&t.menuButtonHidden),children:Object(ie.jsx)(ft.a,{})}),Object(ie.jsx)(Z.a,{color:"inherit",className:"appBarOptions",children:Object(ie.jsx)(St.a,{badgeContent:4,color:"secondary",children:Object(ie.jsx)(wt.a,{})})}),Object(ie.jsx)(Ft.a,{alt:"Remy Sharp",src:null!=b&&"https://i.stack.imgur.com/l60Hf.png"!=b&&atob(b),className:"appBarOptions"}),Object(ie.jsx)(xe.a,{component:"h4",variant:"subtitle1",color:"inherit",noWrap:!0,children:l}),Object(ie.jsx)(xe.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title})]})}),Object(ie.jsxs)(Dt.a,{variant:"permanent",classes:{paper:Object(q.a)(t.drawerPaper,!s&&t.drawerPaperClose)},open:s,children:[Object(ie.jsxs)("div",{className:t.toolbarIcon,children:[Object(ie.jsx)(xe.a,{syle:{marginLeft:"70px"},variant:"h6",noWrap:!0,children:"\ud835\udcfc\ud835\udcf1\ud835\udcea\ud835\udcfb\ud835\udcf9"}),Object(ie.jsx)(xe.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title}),Object(ie.jsx)(Z.a,{onClick:function(){r(!1)},children:Object(ie.jsx)(vt.a,{})})]}),Object(ie.jsx)("div",{className:t.drawerContainer,children:Object(ie.jsxs)(It.a,{style:{paddingTop:"0px"},children:[Object(ie.jsx)("li",{children:Object(ie.jsx)(E.b,{to:"/explore",children:Object(ie.jsxs)(_t.a,{button:!0,children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(Rt.a,{children:" "})}),Object(ie.jsx)(xe.a,{variant:"button",style:{color:"black"},children:"Home"})]},"Homme")})}),Object(ie.jsx)("li",{children:Object(ie.jsx)(E.b,{to:"/profile/edit",children:Object(ie.jsxs)(_t.a,{button:!0,children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(Tt.a,{})}),Object(ie.jsx)(xe.a,{variant:"button",style:{color:"black"},children:"Edit profile"})]},"Profile")})}),Object(ie.jsx)("li",{children:Object(ie.jsx)(E.b,{to:"/profile/analytics",children:Object(ie.jsxs)(_t.a,{button:!0,children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(Nt.a,{})}),Object(ie.jsx)(xe.a,{variant:"button",style:{color:"black"},children:"Analytics"})]},"Profile")})}),Object(ie.jsx)("li",{children:Object(ie.jsx)(E.b,{to:"/saved",children:Object(ie.jsxs)(_t.a,{button:!0,children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(dt.a,{})}),Object(ie.jsx)(xe.a,{variant:"button",style:{color:"black"},children:"Saved"})]},"Saved")})}),Object(ie.jsxs)(_t.a,{button:!0,children:[Object(ie.jsx)(Pt.a,{children:Object(ie.jsx)(zt.a,{})}),Object(ie.jsx)(Bt.a,{primary:"Logout"})]},"Logout")]})})]}),Object(ie.jsxs)("main",{className:t.content,children:[Object(ie.jsx)("div",{className:"appBarSpacer"}),Object(ie.jsx)(ve.a,{maxWidth:"lg",className:t.container,children:Object(ie.jsxs)(I.d,{children:[Object(ie.jsx)(I.b,{path:"/explore",children:Object(ie.jsx)(ht,{})}),Object(ie.jsx)(I.b,{path:"/profile/edit",children:Object(ie.jsx)(Ke,{})}),Object(ie.jsx)(I.b,{path:"/profile/analytics",children:Object(ie.jsx)(ea,{})}),Object(ie.jsx)(I.b,{path:"/saved",children:Object(ie.jsx)("viewSaveContent",{})}),Object(ie.jsx)(I.b,{path:"/explore",children:Object(ie.jsx)(ht,{})})]})})]})]})})})),ia=(a(182),Object(o.b)((function(e){return{logged_in:e.login_signup.logged_in}}))((function(e){e.logged_in;return Object(ie.jsx)("div",{className:"App",children:Object(ie.jsx)(E.a,{history:qe,children:Object(ie.jsxs)(I.d,{children:[Object(ie.jsx)(I.b,{path:"/login_signup",exact:!0,component:he}),Object(ie.jsx)(I.b,{path:"/",exact:!0,component:he}),Object(ie.jsx)(I.b,{path:"/login",exact:!0,component:he}),Object(ie.jsx)(I.b,{path:"/save",exact:!0,component:bt}),Object(ie.jsx)(I.b,{path:"/saved",exact:!0,children:Object(ie.jsx)(oa,{}),component:ra}),Object(ie.jsx)(I.b,{path:"/profile/edit",exact:!0,children:Object(ie.jsx)(oa,{}),component:Ke}),Object(ie.jsx)(I.b,{path:"/profile/analytics",children:Object(ie.jsx)(oa,{}),exact:!0,component:ea}),Object(ie.jsx)(I.b,{path:"/explore",exact:!0,children:Object(ie.jsx)(oa,{}),component:ht}),Object(ie.jsx)(I.b,{path:"/reset/*",exact:!0,component:Ot}),Object(ie.jsx)(I.b,{path:"/verify_email",exact:!0,component:mt})]})})})})));s.a.render(Object(ie.jsx)(E.a,{children:Object(ie.jsx)(c.a.StrictMode,{children:Object(ie.jsx)(o.a,{store:A,children:Object(ie.jsx)(ia,{})})})}),document.getElementById("app"))},81:function(e,t,a){},91:function(e,t,a){}},[[243,1,2]]]);
//# sourceMappingURL=main.c1e0a824.chunk.js.map